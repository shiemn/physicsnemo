# SPDX-FileCopyrightText: Copyright (c) 2023 - 2024 NVIDIA CORPORATION & AFFILIATES.
# SPDX-FileCopyrightText: All rights reserved.
# SPDX-License-Identifier: Apache-2.0
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# Model 
# Model definition
model:
  _target_: earth2studio.models.px.pangu.Pangu6.load_model    # Load the Pangu-6 model
  package:
    _target_: earth2studio.models.px.pangu.Pangu6.load_default_package  # Loads default pretrained package for Pangu-6

# Data source
data_source:
  file_dir: /earth2/era5_75var/train            # Directory with ERA5 training data
  metadata_path: /earth2/era5_75var/metadata/data.json   # Path to dataset metadata (variables, grid info, etc.)
  array_name: fields                            # Name of the data array inside the files
  years: [1980, 1981, 1982, 1983, 1984, 1985, 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015]                
                                                # Years of ERA5 data included

# IO
io:
  _target_: earth2studio.io.ZarrBackend         # Backend for writing outputs in Zarr format
  file_name: /code/data/moe/pangu_multi.zarr  # Path to Zarr output file
  chunks:
    time: 4                                     # Chunk size along time dimension (controls I/O efficiency)

# HDF5 IO
h5_dir_path: /code/data/moe/pangu_multi_hdf5/ # Directory for storing HDF5 versions of outputs

# Times
start_time: 2000-01-01T06:00:00                 # Start time for simulations
end_time: 2015-12-31T18:00:00                   # End time for simulations
freq: 6H                                       # Time step frequency (6 hours)

# Run setup
nsteps: 9                                      # Number of forecast steps per run
batch_size: 8                                  # Batch size

# Output variables
output_coords:
  variable: ["t2m", "u10m", "v10m", "u850", "v850", "t850", "z850", "u500", "v500", "t500", "z500"]  
                                               # Variables to extract from model outputs and ERA5

# Initialize IO. !!! Note - (True only on first run the False)
initialize_io: False                            # Whether to reinitialize output storage 
